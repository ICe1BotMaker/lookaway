import { stdout, stdin, exit } from 'process';
import chalk from 'chalk';

// intro
console.clear();
console.log(chalk.whiteBright(`








                                                    ..:^~!!7!77777777777777!!~!^..                                               
                                              .:^^^^^~~!!777!!!!!!!!7!7!!777!!!!~~~~^~^                                          
                                           .::^~!~~~~!77!!!7!!777777!!7!!7!!7!77777!!7!::..                                      
                                          :7!~!7777777777777777777777777777777777777777777!:.                                    
                                        ^^!!777777777777777777777777777777777777777777777!777!^.                                 
                                    . .~~~!77!!7!!!!!!!!777!7!!!7!7!!!7!!7!!7!!7!!7!!7!!77!!!7!~^.                               
                                    .:^!!!!!!!!!!!!!!!77!!!!!!!!!!!!!!!!!!!!7!!!!!7!!!!!!!77!!7!!^..                             
                                  .:^!7!777777777777777777777777777777777777777777777777777777777?~:                             
                                 :.:^~!!777777777777777777777777777777777777777777777777777777777777^.                           
                                .:..^~!!!!!!7!!!!!!!!!!!!!!!!!!!!!!!!!7!!7!!7!!7!!7!!7!!!!!!7!!!!!!!!:.                          
                               .:...^~77!!!!7!77!7!7!77!!7!!7!!77!77!77!!7!!7!77!!7!!7!!77!!!77!7!!7!~^                          
                              :.....^!7777777777777777777777777777777777777777777777777777777777777777!:                         
                            ..^. :..^~!77777777777777777777777777777777777777777777777777777777777777!~!.                        ${chalk.bgWhiteBright.black(` ICe1BotMaker ∴ Look Away `) + ` [ only 238x74 ]`}
                             .:.. ::^~~~!!!!!!777!!!!!!!!7!!7!!!7!!!!!!!!7!!7!!7!!7!!!!!!!!!!777!!777!~!:                        
                            ..:...:^^~~~!!!7!!!!!77777!7!!!!!!!!!!!!!!7!!7!!7!!!!!!!7!!7!!7!!!!77!!!7!!7:                        
                            .::....:~~~~!7!77!7777777777777777777777777777777777777777777777777777~~7777~^                       
                            .^^:.. .^^~!!~~!7777777!7777777777777777777777777777777777777777777777!~!~~~!~                       ${chalk.white(`A huge and powerful hacking tool that you don't know what function it will have`)}
                            .^^.....^:^!!~!!7!!!~!!!!7!77!!!!!77!!!!!!!!!!!!!!!!!!~~~!!!777777!7!7~~^^~!!~                       
                            .::...  :^~!~~~~~~~^:^^~~~~~!!!!!!!!!!!!!!7!!!!!!~~~~^:^^~~~~~~!!!!!!!~~^~!!!~                       ${chalk.white(`Be quiet. Do it in public. Match your clothes to black. Wear an anonymous mask. `)}
                            .::.....~!!!!~:....      ..:!!~~~!!!!7777777777~::         .  :!777777^:^!!!!~                       
                            ...... .:~^:........ .. ..  . .:^^^^~7!!!77!!!7. .. ..     .. .   ^~77777!~~!~                       ${chalk.white(`I'm going to break in. He steals things.`)}
                            ...    .^^~!~^~:.:::..     .. .:.^!::^~!!^~!!~^..:. ..::::::::....::~~!!!!!!^^                       
                             .:....:~^~!~~!~~^^.:........ ..:^!:.~~!~^~!!~::^~...:^~^^^^^:^^:: .:~~!!~!!^.                       
                             . . ..^7~^~!7777!^::....     ..^7!::77!~~7!7!:!7!:..77!7777777!^^. .~~!!!!~:.                       ${chalk.white(`The best hacking tools for 2023 to 2024 that put everything together.`)}
                            .......:!^~!!7!77!~:::...... ...^7:.^7~^!^^!~^.!~!7!~!!!77777777~:..~7777^^!:                        
                              ..  .:~::^~!!!^:...............:...::.:.::~~~^^~~~~!!!7!!!~!!!~: :!!!!!^^7.                        
                              .  ..:^^:::^~~::...:.....^:.:...:...  .:::~!!~^~~~!!!!7!!!~~!~^.:^!!!77^:!.                        ${chalk.white(`Here are some caveats.`)}
                              ....^^^!~~^::::^^::^....^7~:.....  ....   !!~~^~!!!!7777!!!!7:..!!!!!77^:^                         
                           ..:....~!^~!77777!~7!~!!!!!~^. .:::........ . .!!777777777!~77!7!!77777777~^^..                       ${chalk.white(`- Don't use it for white hacking.`)}
                           :...  :~!!!!~~!!7!!!!~:~!~!~:...:.^... .. . . :!!!!!7!!!~!~~!!!!777!7777!!!!!^:                       
                             ....:~!!7!~~~!!7!!!!~~~~~^:  .::: . :...  :.^!!!!!!!!!~!~~77!!!7!!!!!7!!!77^:                       ${chalk.white(`- Do a \`Sans Dance\` before using it.`)}
                             .:::.~777777777777777!!7~^~:..::^~: ^.. ..: .~!7777!!7777777777777777777777^.                       
                               ... .~!777777777!~!!77^:: ..^^^:..:~!^.. :~777777!!7777777777777777777^.                          
                                   .^!!!~^::::^^^:::::.:.  ::~!:.:~!~~~~~!7!77777!!!!7!!!~^:~!!!!!^^^.                           ${chalk.white(`That's it. There's nothing to be more careful about. You have nothing to lose.`)}
                                 :.::^~^:::...:.:.:.:..   ::^~!^:^~!~~!!!7!!!!!!!77!!~^:^^:::~~~^~^:^.                           
                                    .^:...     .... .....:^:~77~~~!777777777777777777^.    ..:  ....                             
                                    ...:..:.   .... ...:^^~:~77!!!!~777777777777777!7:     ~!7777:                               
                                     ....:^.     .......::^^~!~~!!~~^~!!7777!!!!!!!~^.   .!!~!!^:                                ${chalk.whiteBright(`IF YOU PRESS \`SPACE KEY\` GO TO POLICE`)}
                                       :.:^^. . ....::..::::~!^~~~~!~~~!~~!!!!!!!!!!:  ..^!~~!~:                                 
                                       :^::7~:  ....:  :..::~!^:~!!!~^^!^^~!!~~!777!:   :^7~~!.                                  ${chalk.whiteBright(`[ -------------------------------------------------- ]`)}
                                        ..^77!:.:...:..^..:~!7:~777!~!7!!77!~~~~~!!!.. :!777!.                                   ${chalk.whiteBright(`[                No one can stop you?                ]`)}
                                         ..:^!!^:::. ...  ::.:..^!^:^^^:^:^!~:!~~!~~:^~!!!7!^                                    ${chalk.whiteBright(`[ -------------------------------------------------- ]`)}
                                          ..:^!!^^.:::.::^~^:^.:^!~^~:^~^^:~!^!~~!~~~!!!!!!~.                                    
                                          ..:^~!!^::^^^~!!7!!7.^7!77!~^!~^:~^~7!~~!77777777.                                     
                                           :.:^~~!^^^:^!^^!!!!^~7!!!^!7!77777777!77777!!!77.                                     
                                           ...:.^!!~!!~^:^^^~7!^^7!!!!7!!7777777!77!!7!!!~^.                                     
                                           ...:::~^~~~~~~^~~~!!~~!~~!!!777!!!!!77!!7!!!!~^:                                      
                                             .:..:::^^^~^^~~^~~~!~!7777!777!777!77777!77^.                                       
                                              . ...:^::^:~77777!~^!7777777777777777777!                                          
                                                ...:^!!!!!!7!!!^^!!77777777777777777!:.                                          
                                                ...::^~!!!!!!!!~~!!!!!!!!!!!!!!!!!~::                                            
                                                 ...:.:!~^~^^~!!7!7!7777777777!77!:.                                             
                                                     ...::^^~7~:::..^^~!!777!!:.                                                 
                                                        .   .. .   .. ........                                                   `));

const canvas = {
    width: stdout.columns,
    height: stdout.rows,

    left: (text, x, y) => {
        stdout.write(`\x1b[${y};${x - text.length}H`);
        console.log(text);
    },

    right: (text, x, y) => {
        stdout.write(`\x1b[${y};${x}H`);
        console.log(text);
    },

    center: (text, x, y) => {
        stdout.write(`\x1b[${y};${x - Math.round(text.length / 2)}H`);
        console.log(text);
    },

    wait: (time) => new Promise((res, rej) => setTimeout(() => res(), time))
};

stdin.setRawMode(true);
stdin.setEncoding(`utf-8`);

stdin.on('data', async key => {
    if (key === `Q`) exit();

    if (key === ` `) {
        // loading
        canvas.right(chalk.bgWhite.black(`〉`.repeat(canvas.width / 2)), 0, canvas.height - 1);

        stdin.removeAllListeners();

        await canvas.wait(100);

        console.clear();

        canvas.right(chalk.bgWhite.black(`〉`.repeat(canvas.width / 2)), 0, canvas.height - 1);

        canvas.right(chalk.underline(`ICe1BotMaker ∴ Look Away [ only 238x74 ]`), 1, 0);
        canvas.right(chalk.underline(``), 1, 1);
        canvas.right(chalk.underline(``), 1, 2);
        canvas.right(chalk.underline(``), 1, 3);
        await canvas.wait(Math.random() * 100);
        canvas.right(chalk.underline(`A huge and powerful hacking tool that you don't know what function it will have`), 1, 4);
        canvas.right(chalk.underline(``), 1, 5);
        await canvas.wait(Math.random() * 100);
        canvas.right(chalk.underline(`Be quiet. Do it in public. Match your clothes to black. Wear an anonymous mask. `), 1, 6);
        canvas.right(chalk.underline(``), 1, 7);
        await canvas.wait(Math.random() * 100);
        canvas.right(chalk.underline(`I'm going to break in. He steals things.`), 1, 8);
        canvas.right(chalk.underline(``), 1, 9);
        canvas.right(chalk.underline(``), 1, 10);
        await canvas.wait(Math.random() * 100);
        canvas.right(chalk.underline(`The best hacking tools for 2023 to 2024 that put everything together.`), 1, 11);
        canvas.right(chalk.underline(``), 1, 12);
        canvas.right(chalk.underline(``), 1, 13);
        await canvas.wait(Math.random() * 100);
        canvas.right(chalk.underline(`Here are some caveats.`), 1, 14);
        canvas.right(chalk.underline(``), 1, 15);
        await canvas.wait(Math.random() * 100);
        canvas.right(chalk.underline(`- Don't use it for white hacking.`), 1, 16);
        canvas.right(chalk.underline(``), 1, 17);
        await canvas.wait(Math.random() * 100);
        canvas.right(chalk.underline(`- Do a \`Sans Dance\` before using it.`), 1, 18);
        canvas.right(chalk.underline(``), 1, 19);
        canvas.right(chalk.underline(``), 1, 20);
        await canvas.wait(Math.random() * 100);
        canvas.right(chalk.underline(`That's it. There's nothing to be more careful about. You have nothing to lose.`), 1, 21);
        canvas.right(chalk.underline(``), 1, 22);

        // enter crypto
        for (let i = 0; i < 100; i++) {
            await canvas.wait(Math.random() * 5);
            console.log(chalk.gray(`ICe1BotMaker ∴ crypto -> ${Math.random().toString(36).substring(2)}; || ${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}${Math.random().toString(36).substring(2)}`));
        }

        console.clear();

        // canvas draw x
        for (let i = 0; i <= (canvas.width - 2); i++) {
            await canvas.wait(1);
            console.clear();
            canvas.center(chalk(`┌${`─`.repeat(i)}┐`), canvas.width / 2, canvas.height / 2 - 1);
            canvas.center(chalk(`└${`─`.repeat(i)}┘`), canvas.width / 2, canvas.height / 2);
        }

        // canvas draw y
        console.clear();
        canvas.right(chalk(`┌${`─`.repeat(canvas.width - 2)}┐`), 1, 1);

        for (let i = 2; i <= (canvas.height - 11); i++) {
            await canvas.wait(1);
            canvas.right(chalk(`│${` `.repeat(canvas.width - 2)}|`), 1, i);
        }

        canvas.right(chalk(`└${`─`.repeat(canvas.width - 2)}┘`), 1, canvas.height - 10);

        await canvas.wait(200);

        canvas.right(chalk.bgYellow.black(` ICe1BotMaker ∴ Look Away `) + ` [ only 238x74 ]`, 4, 3);
        canvas.right(chalk(`version 0.0.1b`), 4, 5);

        await canvas.wait(50);

        canvas.right(chalk.underline(`Look Away ∴ REPOSITORYS`), 4, 7);
        canvas.right(chalk.gray(`nodecli-gui 1.0.12`), 4, 8);
        canvas.right(chalk.gray(`ncgge (1 commit but empty package.json)`), 4, 9);
        canvas.right(chalk.gray(`pkg-in 1.0.0`), 4, 10);

        await canvas.wait(50);

        canvas.right(chalk.underline(`Look Away ∴ FUNCTIONS`), 4, 12);
        canvas.right(chalk.gray(`crypto-currency 0.0.1b -> bitcoin transaction`), 4, 13);
        canvas.right(chalk.gray(`zbcp 0.0.1b -> zb-cp`), 4, 14);
        canvas.right(chalk.gray(`ddos 0.0.1b -> distributed denial of service`), 4, 15);
        canvas.right(chalk.gray(`nmap 0.0.1b -> network mapper`), 4, 16);
        canvas.right(chalk.gray(`apt 0.0.1b -> advanced persistent threat`), 4, 17);
        canvas.right(chalk.gray(`sql-inj 0.0.1b -> mysql, mongodb, mariadb, db2, access`), 4, 18);
        canvas.right(chalk.gray(`xss 0.0.1b -> cross site scripting`), 4, 19);
        canvas.right(chalk.gray(`crypto-jacking 0.0.1b -> crypto jacking zb-cp`), 4, 20);

        await canvas.wait(100);

        canvas.right(chalk.yellow(`┌${`─`.repeat(50)}┐`), 4, 22 + 1);
        canvas.right(chalk.yellow(`|`), 4, 23 + 1);
        canvas.right(chalk.yellow(`|`), 55, 23 + 1);
        canvas.right(chalk.yellow(`|`), 4, 24 + 1);
        canvas.right(chalk.yellow(`|`), 55, 24 + 1);
        canvas.right(chalk.yellow(`|`), 4, 25 + 1);
        canvas.right(chalk.yellow(`|`), 55, 25 + 1);
        canvas.right(chalk.yellow(`└${`─`.repeat(50)}┘`), 4, 26 + 1);

        canvas.right(chalk.yellowBright(`${new Date().toString().replace(/\(.*\)/i, ``)}     `), 8, 25);
        
        setInterval(() => {
            canvas.right(chalk.yellowBright(`${new Date().toString().replace(/\(.*\)/i, ``)}     `), 8, 25);
        }, 1000);

        await canvas.wait(100);

        canvas.right(chalk.yellow(`┌${`─`.repeat(50)}┐`), 4, 27 + 1);
        canvas.right(chalk.yellow(`|`), 4, 28 + 1);
        canvas.right(chalk.yellow(`|`), 55, 28 + 1);
        canvas.right(chalk.yellow(`|`), 4, 29 + 1);
        canvas.right(chalk.yellow(`|`), 55, 29 + 1);
        canvas.right(chalk.yellow(`|`), 4, 30 + 1);
        canvas.right(chalk.yellow(`|`), 55, 30 + 1);
        canvas.right(chalk.yellow(`└${`─`.repeat(50)}┘`), 4, 31 + 1);

        canvas.right(chalk.yellowBright(`Look Away ∴ operator { }`), 8, 30);

        await canvas.wait(100);

        canvas.right(chalk.yellow(`┌${`─`.repeat(50)}┐`), 4, 32 + 1);
        canvas.right(chalk.yellow(`|`), 4, 33 + 1);
        canvas.right(chalk.yellow(`|`), 55, 33 + 1);
        canvas.right(chalk.yellow(`|`), 4, 34 + 1);
        canvas.right(chalk.yellow(`|`), 55, 34 + 1);
        canvas.right(chalk.yellow(`|`), 4, 35 + 1);
        canvas.right(chalk.yellow(`|`), 55, 35 + 1);
        canvas.right(chalk.yellow(`└${`─`.repeat(50)}┘`), 4, 36 + 1);

        canvas.right(chalk.yellowBright(JSON.stringify({ tool: false, onEvents: [] })), 8, 35);

        await canvas.wait(50);

        canvas.right(chalk.underline(`Look Away ∴ EARTH`), 5, 40);
        canvas.right(chalk(`- 48°N, 78°`), 44, 40);
        canvas.right(chalk(`                                          ,o88888`), 5, 44 - 1);
        canvas.right(chalk(`                                       ,o8888888'`), 5, 45 - 1);
        canvas.right(chalk(`                 ,:o:o:oooo.        ,8O88Pd8888"`), 5, 46 - 1);
        canvas.right(chalk(`             ,.::.::o:ooooOoOoO. ,oO8O8Pd888'"`), 5, 47 - 1);
        canvas.right(chalk(`           ,.:.::o:ooOoOoOO8O8OOo.8OOPd8O8O"`), 5, 48 - 1);
        canvas.right(chalk(`          , ..:.::o:ooOoOOOO8OOOOo.FdO8O8"`), 5, 49 - 1);
        canvas.right(chalk(`         , ..:.::o:ooOoOO8O888O8O,COCOO"`), 5, 50 - 1);
        canvas.right(chalk(`        , . ..:.::o:ooOoOOOO8OOOOCOCO"`), 5, 51 - 1);
        canvas.right(chalk(`         . ..:.::o:ooOoOoOO8O8OCCCC"o`), 5, 52 - 1);
        canvas.right(chalk(`            . ..:.::o:ooooOoCoCCC"o:o`), 5, 53 - 1);
        canvas.right(chalk(`            . ..:.::o:o:,cooooCo"oo:o:`), 5, 54 - 1);
        canvas.right(chalk(`         \`   . . ..:.:cocoooo"'o:o:::'`), 5, 55 - 1);
        canvas.right(chalk(`         .\`   . ..::ccccoc"'o:o:o:::'`), 5, 56 - 1);
        canvas.right(chalk(`        :.:.    ,c:cccc"':.:.:.:.:.'`), 5, 57 - 1);
        canvas.right(chalk(`      ..:.:"'\`::::c:"'..:.:.:.:.:.'`), 5, 58 - 1);
        canvas.right(chalk(`    ...:.'.:.::::"'    . . . . .'`), 5, 59 - 1);
        canvas.right(chalk(`   .. . ....:."' \`   .  . . ''`), 5, 60 - 1);
        canvas.right(chalk(` . . . ...."'`), 5, 61 - 1);
        canvas.right(chalk(` .. . ."'`), 5, 62 - 1);
        canvas.right(chalk(`.`), 5, 63 - 1);

        await canvas.wait(250);
        
        const remap = async () => {
            let arr = [
                `                                      :.....::...  .. . .........                                                                                                        `,
                `                                .^^^..!~~~~~::::~:^~~:~:^~~~~~~~^:::^                :. ^^.                             .:^^                                             `,
                `                     .::.          .^~~~.    ::^^^^~~~~^^~~~~~^^~~~~!                   ..              :             :.::::.^~~.                  :                     `,
                `                   :^..^~:..^ :::: ~^^^^::.        :~^~~~~~~~~~~~~^..                                  ::     ..  ^..:!!!!!~!~^^~^::::^::^     :^^^:                     `,
                ` ^~^^^~~~^~:....^~^.~::~~!~~!~:.:~~..:~: :^^^~^.    :!~~~~~!!~^^^^.                 ..:^^^^~^.... .  ..:.....^^: ~~~^~^~~~~!!~~~!~~~~!~~~!^~^:^~~~!~^~~~~.....~~^.::     `,
                `:^~~^^~~~~^^~^~~~^^~~!~~!~~~!!~~~~~~::~: .^^~~^.     :~~~~~::.    .::::.           :^^~^:~~~~~::::~:^^~~~~^~~^^^^!!~~~~~~^^~~~^^~~~~~~~~~!!~~~~~^^!~~~!!~!!~~~!~~~::^.   `,
                `~~~~~^~~:~^^~!!~~~!!!!!!!!~~~~~~~^ .  .  ^!~:.        ^^::         ....   ^     ^~~~~~^.^^~~~^^:^^^~~~~~~~~~~~~!!~^~~~~~~^~~~~~^~~~~^^~~~~!~~!!!!~~!!!~^^~^^~~~~:   .    `,
                ` ::::~:.    .:~!!!!!!~~~!~~~~~^^^.       :^^!::^:                          ..   .::^^:. ^:~~~~~^^^~~~^~~~~~~~~~~~~^~!~~~^^~~~~^^~^^^~~~^^^!~~~~:::::::..^!.              `,
                `^    .        . ^~!~!!!!!^^~~~~~~~^~^^~ :^~~~~~~~^.                      .~:...  :^:.^^^!!~~~~!^~~~~~~~~~~~~~^^~!!!~~^^^~~^~!~^~~~^^^!~~~^!~^^:..     .~~.               `,
                `                 .^!!!~~~~~~~~~~~~~~^^~:.^~^~~^:::~:                     :::::~:^^^~~~~~~~~~~~~~~^~~~~^^^^~~~^^~~~~~^^~~~~^^~~~~~!~~~~~~~~!~~~~:~:                       `,
                `                   ^~~!~^~!~~^~~~^~~~~~~~~~~~~~^  .                         .^~~~~^~!~^^^^~~~~~~~^^~~~^^^~~~~~~^~~~~~~~~~~^~~~~~~~^^!!~~^~~~~~:                          `,
                `                   ^!!!!~~~~~~~~~~!~^~~~~~^^::::                          :.:~~::^!~:::~^~~~~~~~~~~~~~~~~~~^~^^~~~~!~~!!~~~^^~~~!~^^~!~~~~~::. ^^.                       `,
                `                   .!!~~!!~~!!!~~~!~~~!~^^:                               ~^^:   .^.. :~^.~~~~^^~~~~~~~~^~~~~~~~~~~~~~~!!~~~~~~~!!~~~~~:.~.   .!:                        `,
                `                    :^^~!!^~~~~~~~!~~~~~~.                                :~^....:: :     :::~~^~~~~^^~~~~~^~~~~~~~~~~^~^^~~!~~~!!~~~.: .! ..:~:                         `,
                `                      .^~!~~~~~~~~~~^^^!.                                ^^~~^~^^^~^.  .^..  :^^^^~~^^~~^~~~~^^^~^^^~!!~~~~~!~~~~!~~~!.  . ....                          `,
                `                        ::~~~~~~^:::.  !                               .:~^^~~~~~~~~~~^~^^~^~~^^^^~~. :^^^~~~~~^~~~~~~!!!~~~~~~~^~~~~!:.                                 `,
                `                        .:.:!~^.      .:.                             :^^^^^^^~~~~^~~~~~~^~~~~.^~~~~~:.~:....^~~~~~~^~~~!~~~~~~~~~~~~.^.                                 `,
                `                            :~^:.  .  :::.  :                         ^^~~~~^~~~~^~~~~~^^~~~~~~.:!~~~^~~~.    .:^~~~~~:::^~~^~~~::.                                      `,
                `                             .~~~^^~:       .                         ^^~~^^^~~~~~~~~~~~~~~~~^~...~~~^^^.      .~!~~^.   .~^^^^^      :.                                 `,
                `                                  ^:^~~                               ^^^^~^^^^~^^~!!~~~~~~~~~~~^.:::.           ~!:        :^^^~      ..                                `,
                `                                    .:~   .:^^^^^                     .:^^^~~^~^^~~~~!~^~~~~~^^^~~:^^:           .~:         .:~.      ..                                `,
                `                                         :~~^~!~^^...                  .^^^:::^:^~!~!!~^^~~^^^~~~~!~^.             ::      :^:.     :  .:                                `,
                `                                         ^~~~~~~~~~~^^                    .     ..:!~~~~~~^^^~^^^~~.                       ::^^   .^~                                    `,
                `                                        ~~~!!~~~~~!~~~::.                          ~~~^^^^~~~~~^^:                          :~^  ^~~^..       . ..                       `,
                `                                        ^~~~~~~^~~~^^~~~~^^::.                     ^^^~~~~^~~~~~:                            .:^ ......      .~:~^                       `,
                `                                        :^^^~~~~~^^~!~~~!~~~^.                      ~~^^~~^^~~~~:                                :.            ^^^:                      `,
                `                                         :~~~~~~~~~~!!!~~~^^                        ~!~~~~^^^^~~^                                          :::  :                        `,
                `                                          .^!~~~~~~~~~^~~~^                       .!~~~~~^~~~~^^: :.::                                  :!~!!~. ^:.             ..       `,
                `                                            :^^!!~~^^^^^~~~                        :~~~~~~~^^~.   :~.                                ^^^~!~~~~!^~~:             .:       `,
                `                                             ^~!!~~~~~~:^:                          ~~~~~~^~~~    ^:.                             .:~!!~~~~~~^~!!~^~.                    `,
                `                                            ^~~~~~~~~~~                             :~~~~~~~^.    :                               .:!~~~^^!!~^^~~~^~~.                   `,
                `                                            !~~^^~^^^^.                              :~!~^^^:                                      .!!~~~:^^^^^^^^^^~                    `,
                `                                            !~^~~~:..                                 .:....                                        ::::.   ..:~~~~~:                    `,
                `                                          .~~~~~!^^.                                                                                           ^~^~~           ^:        `,
                `                                           :!~~~:                                                                                                ..           ^:.        `,
                `                                           .^^.                                                                                                            .:^.          `,
                `                                          .!~~.                                                                                                                          `,
                `                                          .~~:.                                                                                                                          `,
                `                                            ::.                                                                                                                          `
            ];

            let arr_idx = 0;

            for (let i in arr) {
                await canvas.wait(10);
                canvas.right(chalk(arr[arr_idx]), 62, 5 + arr_idx);
                arr_idx += 1;
            }
        }

        remap();

        await canvas.wait(100);

        canvas.right(chalk.yellow(`┌${`─`.repeat(38)}┐`), 62, 50 - 2);
        canvas.right(chalk.yellow(`|`), 62, 51 - 2);
        canvas.right(chalk.yellow(`|`), 101, 51 - 2);
        canvas.right(chalk.yellow(`|`), 62, 52 - 2);
        canvas.right(chalk.yellow(`|`), 101, 52 - 2);
        canvas.right(chalk.yellow(`|`), 62, 53 - 2);
        canvas.right(chalk.yellow(`|`), 101, 53 - 2);
        canvas.right(chalk.yellow(`|`), 62, 54 - 2);
        canvas.right(chalk.yellow(`|`), 101, 54 - 2);
        canvas.right(chalk.yellow(`|`), 62, 55 - 2);
        canvas.right(chalk.yellow(`|`), 101, 55 - 2);
        canvas.right(chalk.yellow(`|`), 62, 56 - 2);
        canvas.right(chalk.yellow(`|`), 101, 56 - 2);
        canvas.right(chalk.yellow(`|`), 62, 57 - 2);
        canvas.right(chalk.yellow(`|`), 101, 57 - 2);
        canvas.right(chalk.yellow(`|`), 62, 58 - 2);
        canvas.right(chalk.yellow(`|`), 101, 58 - 2);
        canvas.right(chalk.yellow(`|`), 62, 59 - 2);
        canvas.right(chalk.yellow(`|`), 101, 59 - 2);
        canvas.right(chalk.yellow(`|`), 62, 60 - 2);
        canvas.right(chalk.yellow(`|`), 101, 60 - 2);
        canvas.right(chalk.yellow(`└${`─`.repeat(38)}┘`), 62, 61 - 2);

        await canvas.wait(100);

        canvas.right(chalk.yellowBright(`Look Away ∴ NetWork Nmap .S`), 65, 50);
        canvas.right(chalk.yellowBright(`token: CE17990c-9cfe-11ab`), 65, 52);
        canvas.right(chalk.yellowBright(`cip_gateway: ${Math.random().toString().substring(2, 3)}.${Math.random().toString().substring(2, 5)}.${Math.random().toString().substring(2, 5)}.${Math.random().toString().substring(2, 4)}`), 65, 53);
        canvas.right(chalk.yellowBright(`uuid: ${Math.random().toString(36).substring(2)}`), 65, 54);
        canvas.right(chalk.yellowBright(`black_list: []`), 65, 56);
        canvas.right(chalk.yellowBright(`timer - ${new Date().getTime()}`), 65, 57);

        setInterval(() => {
            canvas.right(chalk.yellowBright(`cip_gateway: ${Math.random().toString().substring(2, 3)}.${Math.random().toString().substring(2, 5)}.${Math.random().toString().substring(2, 5)}.${Math.random().toString().substring(2, 4)}`), 65, 53);
            canvas.right(chalk.yellowBright(`timer - ${new Date().getTime()}`), 65, 57);
        }, 2000);

        await canvas.wait(100);

        canvas.right(chalk.yellow(`┌${`─`.repeat(122)}┐`), 103, 50 - 2);
        canvas.right(chalk.yellow(`|`), 103, 51 - 2);
        canvas.right(chalk.yellow(`|`), 226, 51 - 2);
        canvas.right(chalk.yellow(`┤`), 226, 52 - 2);
        canvas.right(chalk.yellow(`┤`), 226, 53 - 2);
        canvas.right(chalk.yellow(`┤`), 226, 54 - 2);
        canvas.right(chalk.yellow(`┤`), 226, 55 - 2);
        canvas.right(chalk.yellow(`┤`), 226, 56 - 2);
        canvas.right(chalk.yellow(`┤`), 226, 57 - 2);
        canvas.right(chalk.yellow(`┤`), 226, 58 - 2);
        canvas.right(chalk.yellow(`├`), 103, 52 - 2);
        canvas.right(chalk.yellow(`2.9`), 221, 52 - 2);
        canvas.right(chalk.yellow(`├`), 103, 53 - 2);
        canvas.right(chalk.yellow(`2.8`), 221, 53 - 2);
        canvas.right(chalk.yellow(`├`), 103, 54 - 2);
        canvas.right(chalk.yellow(`2.7`), 221, 54 - 2);
        canvas.right(chalk.yellow(`├`), 103, 55 - 2);
        canvas.right(chalk.yellow(`2.6`), 221, 55 - 2);
        canvas.right(chalk.yellow(`├`), 103, 56 - 2);
        canvas.right(chalk.yellow(`2.5`), 221, 56 - 2);
        canvas.right(chalk.yellow(`├`), 103, 57 - 2);
        canvas.right(chalk.yellow(`2.4`), 221, 57 - 2);
        canvas.right(chalk.yellow(`├`), 103, 58 - 2);
        canvas.right(chalk.yellow(`2.3`), 221, 58 - 2);
        canvas.right(chalk.yellow(`|`), 103, 59 - 2);
        canvas.right(chalk.yellow(`|`), 226, 59 - 2);
        canvas.right(chalk.yellow(`|`), 103, 60 - 2);
        canvas.right(chalk.yellow(`|`), 226, 60 - 2);
        canvas.right(chalk.yellow(`└${`─`.repeat(122)}┘`), 103, 61 - 2);

        canvas.right(chalk.yellow(`_`.repeat(118)), 106, 57);

        let graph_idx = 0;
        let before = 0;
        let after = 0;
        let text = `-`;
        let before_text = `/`;
        let after_text = `\\`;

        setInterval(() => {
            if (graph_idx === 114) {
                canvas.right(`${` `.repeat(117)}`, 104, 51 - 2);
                canvas.right(`${` `.repeat(117)}`, 104, 52 - 2);
                canvas.right(`${` `.repeat(117)}`, 104, 53 - 2);
                canvas.right(`${` `.repeat(117)}`, 104, 54 - 2);
                canvas.right(`${` `.repeat(117)}`, 104, 55 - 2);
                canvas.right(`${` `.repeat(117)}`, 104, 56 - 2);
                canvas.right(`${` `.repeat(117)}`, 104, 57 - 2);
                canvas.right(`${` `.repeat(117)}`, 104, 58 - 2);

                graph_idx = 0;
            }

            if (Math.floor(Math.random() * 10) === 1) {
                before = after;
                after = Math.floor(Math.random() * 6) + 1;
    
                before_text = after_text;
    
                if (before < after) {
                    text = `\\`;
                    after_text = `\\`;
                } else if (after < before) {
                    text = `/`;
                    after_text = `/`;
                } else if (after === before) {
                    if (before_text === `\\`) {
                        text = `_`;
                    } else if (before_text === `/`) {
                        text = `-`;
                    }
                }
            } else {
                if (before_text === `\\`) {
                    text = `_`;
                } else if (before_text === `/`) {
                    text = `-`;
                }

                before = after;
                after = before;
            }

            canvas.right(chalk.yellowBright(text), 106 + graph_idx, 50 + after);

            graph_idx += 1;
        }, 50);

        // main terminal
        canvas.right(chalk.whiteBright(`┌─ Look Away ∴ terminal ─┐`), 4, 66);
        canvas.right(chalk.whiteBright(`└ root $ `), 4, 67);

        let command = ``;
        let fix_command = false;
        let command_idx = 0;
        let command_arr = [
            `crypto-currency -coin="0.5"`,
            `zbcp -id="${Math.random().toString(36).substring(2)}"`,
            `ddos -trap="${Math.floor(Math.random() * 100) + 50}" -resource="${Math.random().toString(36).substring(2, 5)}.egg" -ip="${Math.random().toString().substring(2, 3)}.${Math.random().toString().substring(2, 5)}.${Math.random().toString().substring(2, 5)}.${Math.random().toString().substring(2, 4)}"`,
            `nmap -ip="127.0.0.1" -scan="1"`,
            `apt -email="${Math.random().toString(36).substring(2)}@gmail.com" -resource="${Math.random().toString(36).substring(2)}.json"`,
            `sql-inj -resource="${Math.random().toString(36).substring(2)}.sql" -ip="${Math.random().toString().substring(2, 3)}.${Math.random().toString().substring(2, 5)}.${Math.random().toString().substring(2, 5)}.${Math.random().toString().substring(2, 4)}"`,
            `xss -resource="${Math.random().toString(36).substring(2)}.js" -ip="${Math.random().toString().substring(2, 3)}.${Math.random().toString().substring(2, 5)}.${Math.random().toString().substring(2, 5)}.${Math.random().toString().substring(2, 4)}"`,
            `clear -target="map"`
        ];
        let choose = command_arr[Math.floor(Math.random() * command_arr.length)];
        let denied = true;
        let helper = false;

        stdin.on(`data`, async key => {
            let key_code = key.toString().charCodeAt(0);

            // shift q
            if (key_code === 81) {
                canvas.right(``, canvas.width, canvas.height);
                exit();
            }

            // shift w
            if (key_code === 879) {
                command = ``;
                canvas.right(` `.repeat(canvas.width), 13, 67);
            }

            // enter
            else if (key_code === 13) {
                canvas.right(` `.repeat(canvas.width), 13, 67);
                canvas.right(` `.repeat(canvas.width - 13), 4, 68);
                canvas.right(` `.repeat(canvas.width - 13), 4, 69);
                canvas.right(` `.repeat(canvas.width - 13), 4, 70);
                canvas.right(` `.repeat(canvas.width - 13), 4, 71);
                canvas.right(` `.repeat(canvas.width - 13), 4, 72);
                canvas.right(` `.repeat(canvas.width - 13), 4, 73);

                if (Math.floor(Math.random() * 50) + 1 === 1) {
                    if (!denied) {
                        denied = true;
                        canvas.right(`─` + chalk.bgRed.whiteBright(` ACCESS DENIED `), canvas.width - 15, 1);
                    } else {
                        denied = false;
                        canvas.right(chalk.bgGreenBright.black(` ACCESS SUCCESS `), canvas.width - 15, 1);
                    }
                }

                for (let i = 0; i < 4; i++) {
                    let rand_position_x = Math.floor(Math.random() * 150) + 65;
                    let rand_position_y = Math.floor(Math.random() * 30) + 10;
    
                    canvas.right(chalk.bgYellow(`      `), rand_position_x, rand_position_y);
                    canvas.right(chalk.bgYellow(`      `), rand_position_x, rand_position_y + 1);
                    canvas.right(chalk.bgYellow(`      `), rand_position_x, rand_position_y + 2);
    
                    await canvas.wait(100);
                    canvas.right(chalk(`Look Away ∴ success alert`), 4, 69);
    
                    canvas.right(` `.repeat(canvas.width), 13, 67);
                }
    
                if (command === `clear -target="map"`) remap();

                // crypto-currency 0.0.1b -> bitcoin transaction
                // zbcp 0.0.1b -> zb-cp
                // ddos 0.0.1b -> distributed denial of service
                // nmap 0.0.1b -> network mapper
                // apt 0.0.1b -> advanced persistent threat
                // sql-inj 0.0.1b -> mysql, mongodb, mariadb, db2, access
                // xss 0.0.1b -> cross site scripting
                // crypto-jacking 0.0.1b -> crypto jacking zb-cp

                if (command.startsWith(`crypto-currency`)) {
                    canvas.right(chalk.redBright(`Look Away ∴ error -> FEATURE NOT YET SUPPORTED`), 4, 69);
                }
                
                else if (command.startsWith(`zbcp`)) {
                    canvas.right(chalk.redBright(`Look Away ∴ error -> FEATURE NOT YET SUPPORTED`), 4, 69);
                }

                else if (command.startsWith(`ddos`)) {
                    canvas.right(chalk.redBright(`Look Away ∴ error -> FEATURE NOT YET SUPPORTED`), 4, 69);
                }

                else if (command.startsWith(`nmap`)) {
                    canvas.right(chalk.redBright(`Look Away ∴ error -> FEATURE NOT YET SUPPORTED`), 4, 69);
                }

                else if (command.startsWith(`apt`)) {
                    canvas.right(chalk.redBright(`Look Away ∴ error -> FEATURE NOT YET SUPPORTED`), 4, 69);
                }

                else if (command.startsWith(`sql-inj`)) {
                    canvas.right(chalk.redBright(`Look Away ∴ error -> FEATURE NOT YET SUPPORTED`), 4, 69);
                }

                else if (command.startsWith(`xss`)) {
                    canvas.right(chalk.redBright(`Look Away ∴ error -> FEATURE NOT YET SUPPORTED`), 4, 69);
                }

                else if (command.startsWith(`crypto-jacking`)) {
                    canvas.right(chalk.redBright(`Look Away ∴ error -> FEATURE NOT YET SUPPORTED`), 4, 69);
                }

                else if (command.startsWith(`helper`)) {
                    fix_command = true;
                }
                
                else {
                    canvas.right(chalk.redBright(`Look Away ∴ error -> \`${command}\` IS NOT COMMAND`), 4, 69);
                }

                command = ``;
            }
            
            // delete
            else if (key_code === 127) {
                command = command.substring(0, command.length - 1);
                canvas.right(` `.repeat(canvas.width), 13, 67);
                canvas.right(chalk.yellow(command), 13, 67);
            }

            // fix command
            else if (fix_command && !helper) {
                helper = true;

                setInterval(async () => {
                    if (Math.floor(Math.random() * 50) + 1 === 1) {
                        if (!denied) {
                            denied = true;
                            canvas.right(`─` + chalk.bgRed.whiteBright(` ACCESS DENIED `), canvas.width - 15, 1);
                        } else {
                            denied = false;
                            canvas.right(chalk.bgGreenBright.black(` ACCESS SUCCESS `), canvas.width - 15, 1);
                        }
                    }

                    if (choose.length === command_idx) {
                        if (command === `clear -target="map"`) remap();
    
                        let rand_position_x = Math.floor(Math.random() * 150) + 65;
                        let rand_position_y = Math.floor(Math.random() * 30) + 10;
    
                        canvas.right(chalk.bgYellow(`      `), rand_position_x, rand_position_y);
                        canvas.right(chalk.bgYellow(`      `), rand_position_x, rand_position_y + 1);
                        canvas.right(chalk.bgYellow(`      `), rand_position_x, rand_position_y + 2);
    
                        await canvas.wait(100);
                        
                        canvas.right(` `.repeat(canvas.width - 13), 4, 68);
                        canvas.right(` `.repeat(canvas.width - 13), 4, 69);
                        canvas.right(` `.repeat(canvas.width - 13), 4, 70);
                        canvas.right(` `.repeat(canvas.width - 13), 4, 71);
                        canvas.right(` `.repeat(canvas.width - 13), 4, 72);
                        canvas.right(` `.repeat(canvas.width - 13), 4, 73);

                        canvas.right(chalk(`Look Away ∴ success alert`), 4, 69);
    
                        canvas.right(` `.repeat(canvas.width), 13, 67);
    
                        choose = command_arr[Math.floor(Math.random() * command_arr.length)];
                        command = ``;
                        command_idx = 0;
                    }
    
                    command += choose.split(``)[command_idx];
                    command_idx += 1;
                    
                    canvas.right(chalk.yellowBright(command), 13, 67);
                }, 5);
            }
            
            // key input
            else if (!helper) {
                command += key;
                canvas.right(chalk.yellowBright(command), 13, 67);
            }
        });
    }
});